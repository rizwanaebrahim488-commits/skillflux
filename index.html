<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillFlux | Join the Exchange</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #000; --card: #111; --blue: #3B82F6; --border: #1E293B; }
        body { background: var(--bg); color: white; font-family: 'Inter', sans-serif; margin: 0; }
        .navbar { display: flex; justify-content: space-between; padding: 1.5rem 10%; border-bottom: 1px solid var(--border); }
        .logo span { color: var(--blue); }
        .hero { text-align: center; padding: 5rem 10%; }
        .blue-text { color: var(--blue); }
        .phases { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; padding: 2rem 10%; }
        .phase-box { background: var(--card); border: 1px solid var(--border); padding: 2rem; border-radius: 20px; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); justify-content: center; align-items: center; z-index: 100;}
        .modal-content { background: var(--card); padding: 2.5rem; border-radius: 25px; border: 1px solid var(--blue); width: 350px; }
        input { width: 100%; padding: 12px; margin: 10px 0; background: #000; border: 1px solid var(--border); color: white; border-radius: 10px; box-sizing: border-box;}
        .btn-main { background: var(--blue); color: white; border: none; padding: 15px 30px; border-radius: 10px; font-weight: 700; cursor: pointer; width: 100%; }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="logo" style="font-weight:800; font-size:1.5rem;">Skill<span>Flux</span></div>
        <button class="btn-main" style="width:auto;" onclick="toggleModal()">Login / Register</button>
    </nav>

    <header class="hero">
        <h1>SkillFlux <span class="blue-text">Community</span></h1>
        <p>A decentralized peer-to-peer skill exchange platform.</p>
    </header>

    <section class="phases">
        <div class="phase-box"><h3>1. Register</h3><p>Get 2 free credits to start.</p></div>
        <div class="phase-box"><h3>2. Teach</h3><p>Earn credits by sharing skills.</p></div>
        <div class="phase-box"><h3>3. Learn</h3><p>Spend credits to gain knowledge.</p></div>
    </section>

    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <h2 id="m-title">Join SkillFlux</h2>
            <input type="text" id="name" placeholder="Full Name">
            <input type="email" id="email" placeholder="Email">
            <input type="password" id="pass" placeholder="Password">
            <button class="btn-main" onclick="handleAuth()">Get Started</button>
            <p onclick="toggleModal()" style="text-align:center; cursor:pointer; margin-top:15px;">Close</p>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script>
        // PASTE YOUR FIREBASE CONFIG HERE
        const firebaseConfig = { apiKey: "...", authDomain: "...", projectId: "...", storageBucket: "...", messagingSenderId: "...", appId: "..." };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        function toggleModal() { document.getElementById('auth-modal').style.display = (document.getElementById('auth-modal').style.display === 'flex') ? 'none' : 'flex'; }

        async function handleAuth() {
            const e = document.getElementById('email').value;
            const p = document.getElementById('pass').value;
            const n = document.getElementById('name').value;
            try {
                const res = await auth.createUserWithEmailAndPassword(e, p);
                await db.collection("users").doc(res.user.uid).set({
                    name: n, email: e, credits: 2, createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                window.location.href = "dashboard.html";
            } catch (err) { alert(err.message); }
        }
    </script>
</body>
</html>
